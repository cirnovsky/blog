<!DOCTYPE html>
    <html lang=en>
        <head>
            <meta charset="UTF-8" />
            <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.css" integrity="sha384-5TcZemv2l/9On385z///+d7MSYlvIEw9FuZTIdZ14vJLqWphw7e7ZPuOiCHJcFCP" crossorigin="anonymous">

            <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.js" integrity="sha384-cMkvdD8LoxVzGF/RPUKAcvmm49FQ0oxwDF3BGKtDXcEc+T1b2N+teh/OJfpU0jr6" crossorigin="anonymous"></script>

            <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/contrib/auto-render.min.js" integrity="sha384-hCXGrW6PitJEwbkoStFjeJxv+fSOOQKOPbJxSfM6G5sWZjAyWhXiTIIAmQqnlLlh" crossorigin="anonymous"
                onload="renderMathInElement(document.body);"></script>
            <script src="/src/js/jquery.min.js"></script>
            <link rel="stylesheet" href="/src/styles/fonts.css" >
            <link rel="stylesheet" href="/src/styles/style.css" >
            <script>
                document.addEventListener("DOMContentLoaded", function() {
                    $("#giscus").load("/src/html/giscus.html")
                    $("#header").load("/src/html/header.html")
                    renderMathInElement(document.body, {
                        delimiters: [
                            {left: "$$", right: "$$", display: true},
                            {left: "$", right: "$", display: false}
                        ],
                        throwOnError: false,
                        errorColor: "#cc0000"
                    });
                })
            </script>
        </head>
        <body>
            <div class="content">
                <div id="header"></div>
                <p><a href="http://222.180.160.110:1024/contest/4344">Link.</a></p>  
<p>非常无语. 😅</p>  
<h3>A. 道路 (road)</h3>  
<p>总共四种情况, 可分为拐一次弯和拐两次弯, 注意特判同行同列即可.</p>  
<h3>B. 烟花 (firework)</h3>  
<p>转化后的题意就是, 每次选择一条边, 将边连接的两点缩成一点, 求在该点子树中选择不超过 $m$ 个儿子, 儿子们的子树大小之积之和. 朴素做法就是枚举断边, 令 $f_{i, j}$ 表示在前 $i$ 个儿子中选择了 $j$ 个的积之和, 转移即:  
$$
f_{i, j} \rightarrowtail f_{i+1,j} \  
f_{i, j} \times a_i \rightarrowtail f_{i+1,j+1}  
$$
其中 $a_i$ 表示第 $i+1$ 个儿子的子树大小 (0-indexed). 第一维可以滚掉. 发现这个贡献形式是可撤销的, 于是遍历到每条边时, 将端点之间的贡献消除即可.</p>  
<h3>D. 树上的数 (tree)</h3>  
<p>一步一步翻译题意.</p>  
<ol>  
<li><strong>存在相邻边编号更小</strong>: 由于第一步加入的编号是 $1$, 就意味着我们一定按从小到大的顺序加载编号, 否则就会出现中间断开的情况;</li>  
<li><strong>极差之和最小</strong>: 由 (1) 得, 点 $u$ 编号最小的连边一定是父边, 那么编号最大的连边就是子树中最后被加载的儿子与 $u$ 连边的编号. 由于贡献是极差, 只与差值相关, 因此可以直接应用贪心, 按 BFS 序从子树大小最小的儿子加到重儿子, 这样就能获得最小的极差. 那么最小的极差和即为 $\displaystyle \sum_u size_u-size_{son_u}$.</li>  
<li><strong>断边的影响</strong>: 看了一多小时还不会, 先坑了. 🕳</li>  
</ol>  
<hr />  

<div class="panel panel-success">
    <div class="panel-heading">一言</div>
    <div class="panel-body">
  
<p>/ 路在拥挤的行人中落寞孤独，因为它得不到行人的爱慕。 /</p>  
<p>/ <span class="smallcaps" style="font-variant:small-caps;">The</span> road is lonely in its crowd for it is not loved. /</p>  
<p>—— <a href="https://en.wikisource.org/wiki/Stray_Birds">Rabindranath Tagore - <em>Stray Birds</em></a></p>  

    </div>
</div>
                <script src="https://giscus.app/client.js" data-repo="cirnovsky/blog-comments" data-repo-id="R_kgDOKmz0Wg" data-category="General" data-category-id="DIC_kwDOKmz0Ws4Caiud" data-mapping="pathname" data-strict="0" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="top" data-theme="gruvbox" data-lang="en" crossorigin="anonymous" async></script>
            </div>
        </body>
    </html>
